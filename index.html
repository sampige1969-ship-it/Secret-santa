<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Secret Santa Surprise üéÖüéÅ</title>
    <style>
        :root{
            --bg:#0b1020;
            --card:#fff;
            --accent:#ff7bbd;
            --accent2:#6ee7b7;
        }
        html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;}
        body{
            background: radial-gradient(1200px 600px at 10% 10%, #0f2140 0%, rgba(11,16,32,1) 25%, var(--bg) 60%);
            display:flex;align-items:center;justify-content:center;padding:24px;color:var(--card);
        }

        /* floating snow dots */
        .sky{
            position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden;
        }
        .snow{
            position:absolute;top:-10%;left:0;right:0;height:120%;
            background-image:
                    radial-gradient(circle at 10% 20%, rgba(255,255,255,0.9) 0 2px, transparent 2px),
                    radial-gradient(circle at 50% 30%, rgba(255,255,255,0.8) 0 1.6px, transparent 1.6px),
                    radial-gradient(circle at 80% 60%, rgba(255,255,255,0.7) 0 2.4px, transparent 2.4px);
            background-size: 100px 100px, 140px 140px, 90px 90px;
            animation: drift 18s linear infinite;
            opacity:.85;
            mix-blend-mode:screen;
            filter: blur(.2px);
        }
        @keyframes drift{
            from{transform:translateY(-20%) translateX(0);}
            to{transform:translateY(20%) translateX(30%);}
        }

        .card{
            position:relative;z-index:2;
            width:100%;max-width:700px;border-radius:16px;padding:28px;
            background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
            box-shadow: 0 12px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
            backdrop-filter: blur(6px);
            border:1px solid rgba(255,255,255,0.04);
            color:#f7f9ff;
            display:grid;grid-template-columns: 1fr 220px;gap:20px;align-items:center;
        }

        .left{
            padding-right:8px;
        }
        h1{
            margin:0;font-size:1.6rem;letter-spacing:0.2px;
        }
        p.lead{margin:10px 0 18px;color:rgba(255,255,255,0.9);line-height:1.45}
        .present{
            display:flex;gap:12px;align-items:center;
        }

        .present .box{
            width:110px;height:110px;border-radius:14px;display:grid;place-items:center;
            background:linear-gradient(135deg,var(--accent),#ffb1d6);
            box-shadow: 0 10px 18px rgba(255,123,189,0.15), 0 4px 8px rgba(0,0,0,0.4);
            transform-origin:center;
            transition: transform .35s ease;
        }
        .present .box:hover{transform:translateY(-6px) rotate(-4deg) scale(1.03);}

        .ribbon{
            position:relative;width:78px;height:34px;border-radius:6px;background:linear-gradient(90deg,rgba(255,255,255,0.85),rgba(255,255,255,0.5));
            transform:translateY(-32px) rotate(-14deg);left:14px;
            box-shadow:0 6px 10px rgba(0,0,0,0.2);
        }
        .note{
            font-family: "Courier New", monospace;background:rgba(0,0,0,0.28);padding:10px;border-radius:8px;
            display:inline-block;color:#fff;font-size:0.95rem;
        }

        /* reveal / typing */
        .message{
            font-size:1.05rem;min-height:60px;margin-top:8px;
        }
        .controls{display:flex;gap:8px;margin-top:14px;}
        button{
            background:transparent;border:1px solid rgba(255,255,255,0.12);color:inherit;padding:10px 12px;border-radius:10px;
            cursor:pointer;font-weight:600;backdrop-filter: blur(2px);
        }
        button.primary{
            background:linear-gradient(90deg,var(--accent),var(--accent2));border:none;color:#07261a;
            box-shadow: 0 8px 18px rgba(110,231,183,0.12);
        }

        /* right column */
        .right{
            text-align:center;padding:12px;border-left:1px dashed rgba(255,255,255,0.03);
        }
        .avatar{
            width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#fff,#fff4);display:inline-grid;place-items:center;
            margin:0 auto 10px;font-size:40px;color:#6b2b5b;
            box-shadow:0 10px 20px rgba(0,0,0,0.5);
        }
        .sub{font-size:0.9rem;color:rgba(255,255,255,0.85)}

        /* responsive */
        @media (max-width:620px){
            .card{grid-template-columns:1fr; padding:18px;}
            .right{border-left:none;border-top:1px dashed rgba(255,255,255,0.03);padding-top:16px;margin-top:6px;}
        }

        /* little sparkles */
        .sparkle{
            position:absolute;z-index:3;pointer-events:none;mix-blend-mode:screen;
            filter: blur(.4px);
            animation: sparkle 2.6s linear infinite;
        }
        @keyframes sparkle{
            0%{transform:translateY(0) scale(0.7);opacity:0}
            10%{opacity:1}
            60%{transform:translateY(-60px) scale(1.1);opacity:0.8}
            100%{transform:translateY(-120px) scale(0.2);opacity:0}
        }
    </style>
</head>
<body>
<div class="sky" aria-hidden="true">
    <div class="snow"></div>
    <svg class="sparkle" style="left:10%;top:70%;width:70px;height:70px;" viewBox="0 0 24 24">
        <path fill="white" d="M12 2l1.9 4.1L18 8l-4.1 1.9L12 14l-1.9-4.1L6 8l4.1-1.9L12 2z" opacity=".12"/>
    </svg>
</div>

<main class="card" role="main" aria-labelledby="title">
    <section class="left">
        <h1 id="title">A little secret... üéÑ</h1>
        <p class="lead">Someone left you a tiny surprise. Click <strong>Open Gift</strong> to reveal a message from your secret Santa.</p>

        <div class="present" aria-hidden="false">
            <div class="box" id="giftBox" role="button" tabindex="0" aria-pressed="false" aria-label="Open gift">
                <div style="text-align:center;">
                    <div class="ribbon" aria-hidden="true"></div>
                    <div style="font-size:28px;font-weight:700;">üéÅ</div>
                </div>
            </div>

            <div style="flex:1">
                <div class="note">To: <strong id="recipientName">Satwika</strong></div>
                <div class="message" id="messageArea" aria-live="polite">Press the box or the button to open your Secret Santa message...</div>

                <div class="controls">
                    <button id="openBtn" class="primary">Open Gift</button>
                    <button id="replayBtn">Replay</button>
                </div>
            </div>
        </div>
    </section>

    <aside class="right" aria-label="sender">
        <div class="avatar" id="avatar">‚ùÑÔ∏è</div>
        <div class="sub">From: <strong id="senderName">Your Secret Santa</strong></div>
        <div style="font-size:0.82rem;margin-top:8px;color:rgba(255,255,255,0.7)">
            Tiny wishes & big hugs ‚Äî enjoy the little magic ‚ú®
        </div>
    </aside>
</main>

<script>
    // Simple typing reveal + confetti canvas
    const messageText = "Hey lovely! üéÖ‚ú®\nWishing you a merry Christmas full of smiles, cozy vibes and little surprises. You're loved ‚Äî enjoy the treat! üéÅ‚ù§Ô∏è";
    const messageArea = document.getElementById('messageArea');
    const openBtn = document.getElementById('openBtn');
    const giftBox = document.getElementById('giftBox');
    const replayBtn = document.getElementById('replayBtn');

    let typingTimer = null;

    function typeMessage(text, elem, speed=28){
        elem.textContent = "";
        let i = 0;
        if (typingTimer) clearInterval(typingTimer);
        typingTimer = setInterval(() => {
            const ch = text[i++];
            if (ch === "\n") elem.textContent += "\n";
            else elem.textContent += ch;
            elem.scrollTop = elem.scrollHeight;
            if (i >= text.length) {
                clearInterval(typingTimer);
                typingTimer = null;
                startConfetti();
            }
        }, speed);
    }

    // Small canvas-confetti fallback (lightweight)
    let confettiRunning = false;
    function startConfetti(){
        if (confettiRunning) return;
        confettiRunning = true;
        const cvs = document.createElement('canvas');
        cvs.style.position='fixed';cvs.style.left=0;cvs.style.top=0; cvs.style.width='100%';cvs.style.height='100%';
        cvs.style.pointerEvents='none';cvs.style.zIndex=9999; document.body.appendChild(cvs);
        cvs.width = innerWidth; cvs.height = innerHeight;
        const ctx = cvs.getContext('2d');
        const pieces = [];
        for(let i=0;i<120;i++){
            pieces.push({
                x: Math.random()*cvs.width,
                y: Math.random()*-cvs.height*0.6,
                r: Math.random()*6+4,
                vx: Math.random()*2-1,
                vy: Math.random()*2+1,
                color: `hsl(${Math.floor(Math.random()*360)} 80% 60%)`,
                rot: Math.random()*360,
                vr: Math.random()*6-3
            });
        }
        let t=0;
        function draw(){
            t++;
            ctx.clearRect(0,0,cvs.width,cvs.height);
            for(const p of pieces){
                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.02;
                p.rot += p.vr;
                ctx.save();
                ctx.translate(p.x,p.y);
                ctx.rotate(p.rot*Math.PI/180);
                ctx.fillStyle = p.color;
                ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*1.6);
                ctx.restore();
                if (p.y > cvs.height + 40) {
                    p.y = -20; p.x = Math.random()*cvs.width; p.vy = Math.random()*2+0.5;
                }
            }
            if (t < 200) requestAnimationFrame(draw);
            else { document.body.removeChild(cvs); confettiRunning = false; }
        }
        draw();
    }

    function openGift(){
        giftBox.classList.add('open');
        giftBox.setAttribute('aria-pressed','true');
        openBtn.disabled = true;
        typeMessage(messageText, messageArea, 28);
    }

    openBtn.addEventListener('click', openGift);
    giftBox.addEventListener('click', openGift);
    giftBox.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') openGift(); });

    replayBtn.addEventListener('click', ()=>{
        if (typingTimer) { clearInterval(typingTimer); typingTimer = null; }
        messageArea.textContent = "Press the box or the button to open your Secret Santa message...";
        openBtn.disabled = false;
        confettiRunning = false;
    });

    // small accessible nicety: personalize with URL params ?to=...&from=...
    function readURLParams(){
        const p = new URLSearchParams(location.search);
        const to = p.get('to');
        const from = p.get('from');
        if (to) document.getElementById('recipientName').textContent = decodeURIComponent(to);
        if (from) document.getElementById('senderName').textContent = decodeURIComponent(from);
    }
    readURLParams();
</script>
</body>
</html>
